(this["webpackJsonpspotify-redux-persist"]=this["webpackJsonpspotify-redux-persist"]||[]).push([[0],{32:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(26),s=c.n(n),r=c(12),i=c(19),j=c(39),l=(c(53),c(9)),o=c(88),b=(c(54),c(1)),u=function(){return Object(b.jsxs)("nav",{className:"sidebar d-flex flex-column align-items-center p-3",children:[Object(b.jsx)("img",{alt:"",src:"/spotify-icons-logos/logos/01_RGB/02_PNG/Spotify_Logo_RGB_White.png",height:"50px"}),Object(b.jsxs)(o.a,{className:"d-flex flex-column align-items-start w-100 my-5",children:[Object(b.jsxs)(r.b,{to:"/",children:[Object(b.jsx)("i",{className:"fas fa-home"}),"Home"]}),Object(b.jsxs)(r.b,{to:"/search",children:[Object(b.jsx)("i",{className:"fas fa-search"}),"Search"]}),Object(b.jsxs)(r.b,{to:"/library",children:[Object(b.jsx)("i",{className:"fas fa-stream"}),"Your Library"]})]})]})},d=c(77),m=c(40),O=c(78),x=c(79),h=c(80),f=c(81),p=c(82),g=c(83),N=c(84),y=c(85),v="TOGGLE_LIKE_SONG",k="ADD_CURRENT_SONG",w="PLAY_SONG",S="PAUSE_SONG",_="SET_DURATION",T="SET_CURRENT_TIME",E="SET_VOLUME",C=function(){return{type:w}},I=function(){return{type:S}},D=function(e){return{type:T,payload:e}},L=function(e){return{type:E,payload:e}},G=function(e){var t=Math.floor(e/60),c=Math.round(e)-t;return"".concat(t,":").concat(("0"+c).slice(-2))},R=c(75),U=c(76),B=(c(61),function(e){var t=Object(i.d)((function(e){return e.likes})),c=Object(i.c)(),a=function(e){return c(function(e){return{type:v,payload:e}}(e))};return Object(b.jsx)("div",{className:"LikeDislikeBtn",children:t.songs[e.songId]?Object(b.jsx)(R.a,{onClick:function(){return a(e.songId)}}):Object(b.jsx)(U.a,{onClick:function(){return a(e.songId)}})})}),A=(c(62),function(){var e,t,c=Object(i.d)((function(e){return e.currentSong})),n=Object(i.c)(),s=Object(a.useRef)();return Object(a.useEffect)((function(){c.playing?s.current.play():s.current.pause()}),[c]),Object(a.useEffect)((function(){s.current.volume=c.volume}),[c.volume]),Object(b.jsxs)("footer",{className:"player",children:[Object(b.jsxs)(d.a,{className:"border-top border-secondary h-100",children:[Object(b.jsxs)(m.a,{className:"d-flex align-items-center justify-content-between",xs:3,children:[Object(b.jsx)("div",{className:"track-info d-flex align-items-center",children:Object(b.jsxs)("div",{className:"d-flex align-items-center p-2",children:[Object(b.jsx)("img",{src:(null===(e=c.songObj.album)||void 0===e?void 0:e.cover_small)?c.songObj.album.cover_small:"https://via.placeholder.com/150",width:"50px",alt:""}),Object(b.jsxs)("div",{className:"text-white",children:[Object(b.jsx)("p",{className:"font-weight-bold",children:c.songObj.title?c.songObj.title:"Track Name"}),Object(b.jsx)("p",{children:(null===(t=c.songObj.artist)||void 0===t?void 0:t.name)?c.songObj.artist.name:"Artist"})]})]})}),Object(b.jsx)(B,{songId:c.songObj.id})]}),Object(b.jsx)(m.a,{xs:6,children:Object(b.jsxs)("div",{className:"controls d-flex flex-column h-100",children:[Object(b.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[Object(b.jsx)(O.a,{}),Object(b.jsx)(x.a,{}),Object(b.jsx)("div",{className:"d-flex justify-content-center align-items-center",id:"player-play-pause-btn",children:c.playing?Object(b.jsx)(h.a,{onClick:function(){return n(I())}}):Object(b.jsx)(f.a,{onClick:function(){return n(C())}})}),Object(b.jsx)(p.a,{}),Object(b.jsx)(g.a,{})]}),Object(b.jsxs)("div",{id:"time-controller",className:"d-flex align-items-center justify-content-center",children:[Object(b.jsx)("span",{children:G(c.currentTime)}),Object(b.jsx)("input",{type:"range",min:"0",max:c.duration,value:c.currentTime,step:"1",onChange:function(e){n(D(e.target.value)),s.current.currentTime=e.target.value}}),Object(b.jsx)("span",{children:G(c.duration)})]})]})}),Object(b.jsx)(m.a,{xs:3,children:Object(b.jsxs)("div",{className:"extra-controls h-100 d-flex align-items-center justify-content-center",children:[c.volume?Object(b.jsx)(y.a,{onClick:function(){return n(L(0))}}):Object(b.jsx)(N.a,{}),Object(b.jsx)("input",{id:"volume-range",min:0,max:1,step:.1,value:c.volume,onChange:function(e){n(L(e.target.value))},className:"ml-2",type:"range"})]})})]}),Object(b.jsx)("audio",{className:"w-100",src:c.songObj.preview,ref:s,onEnded:function(){n(I()),n(D(0))},onLoadedData:function(e){return n((t=e.target.duration,{type:_,payload:t}));var t},onTimeUpdate:function(e){return n(D(e.target.currentTime))}})]})}),P=c(15),Z=c(23),z=c.n(Z),M=c(21),X=c(8),V=c(28),J=function(){var e=Object(V.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.DZ.api("/genre",(function(e){var c=e.data.reduce((function(e,t){return Object(X.a)(Object(X.a)({},e),{},Object(M.a)({},t.name,t.id))}),{});console.log(c),t(c)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=c(89),q=(c(64),function(e){var t=Object(a.useState)({}),c=Object(P.a)(t,2),n=c[0],s=c[1];return Object(a.useEffect)((function(){J(s)}),[]),Object(b.jsx)(Y.a.Group,{className:"d-inline-block my-3",children:Object(b.jsx)(Y.a.Control,{className:"d-inline-block",size:"sm",as:"select",onChange:function(t){return e.onGenreChange(n[t.currentTarget.value])},children:Object.keys(n)&&Object.keys(n).map((function(e){return Object(b.jsx)("option",{children:e},n[e])}))})})}),H=c(90),K=(c(65),Object(i.b)((function(e){return e}),(function(e){return{addCurrentSong:function(t){return e(function(e){return{type:k,payload:e}}(t))},playSong:function(){return e(C())},pauseSong:function(){return e(I())}}}))((function(e){var t=e.currentSong,c=e.songObj,a=e.pauseSong,n=e.playSong,s=e.addCurrentSong,r=t.playing&&t.songObj.id===c.id;return Object(b.jsx)("div",{className:r?"playing":"",id:"PlayPauseBtn",children:r?Object(b.jsx)(h.a,{onClick:a}):Object(b.jsx)(f.a,{onClick:function(){s(c),n()}})})}))),W=(c(32),function(e){return Object(b.jsx)(m.a,{className:"mb-4",xs:12,sm:6,md:4,lg:3,children:Object(b.jsxs)(H.a,{className:"h-100 bg-transparent border-0 content-card",children:[Object(b.jsxs)("div",{className:"position-relative",children:[Object(b.jsx)(H.a.Img,{variant:"top",src:e.trackObj.album.cover_medium}),Object(b.jsx)(K,{songObj:e.trackObj}),Object(b.jsx)(B,{songId:e.trackObj.id})]}),Object(b.jsxs)(H.a.Body,{className:"p-2 bg-transparent",children:[Object(b.jsx)(H.a.Title,{className:"m-0 text-center text-white",children:e.trackObj.title}),Object(b.jsx)(r.b,{className:"text-muted",to:"/album?id=".concat(e.trackObj.album.id),children:Object(b.jsx)(H.a.Text,{className:"m-0 text-center",children:e.trackObj.album.title})}),Object(b.jsx)(r.b,{className:"text-muted",to:"/artist?id=".concat(e.trackObj.artist.id),children:Object(b.jsx)(H.a.Text,{className:"m-0 text-center",children:e.trackObj.artist.name})}),Object(b.jsx)(H.a.Text,{className:"m-0 text-center",children:G(e.trackObj.duration)})]})]})})}),F=function(e){return Object(b.jsx)(m.a,{className:"mb-4",xs:12,sm:6,md:4,lg:3,children:Object(b.jsxs)(H.a,{className:"h-100 bg-transparent border-0 content-card",id:"album_img",children:[Object(b.jsx)(H.a.Img,{variant:"top",src:e.albumObj.cover_medium}),Object(b.jsxs)(H.a.Body,{className:"p-2 bg-transparent",children:[Object(b.jsx)(r.b,{className:"text-white",to:"/album?id=".concat(e.albumObj.id),children:Object(b.jsx)(H.a.Title,{className:"m-0 text-center",children:e.albumObj.title})}),e.albumObj.artist&&Object(b.jsx)(r.b,{className:"text-muted",to:"/artist?id=".concat(e.albumObj.artist.id),children:Object(b.jsxs)(H.a.Text,{className:"m-0 text-center",children:["by ",e.albumObj.artist.name]})})]})]})})},Q=function(e){return Object(b.jsx)(m.a,{className:"mb-4",xs:12,sm:6,md:4,lg:3,children:Object(b.jsxs)(H.a,{className:"h-100 bg-transparent border-0 content-card",children:[Object(b.jsx)(H.a.Img,{className:"rounded-circle",variant:"top",src:e.artistObj.picture_medium}),Object(b.jsx)(H.a.Body,{className:"p-2 bg-transparent",children:Object(b.jsx)(r.b,{className:"text-white",to:"/artist?id=".concat(e.artistObj.id),children:Object(b.jsx)(H.a.Title,{className:"m-0 text-center",children:e.artistObj.name})})})]})})},$=function(e){return Object(b.jsx)(d.a,{children:function(){var t;switch(e.type){case"track":t=e.data.slice(0,12).map((function(t){return Object(b.jsx)(W,{type:e.type,trackObj:t},t.id)}));break;case"artist":t=e.data.slice(0,12).map((function(t){return Object(b.jsx)(Q,{type:e.type,artistObj:t},t.id)}));break;case"album":t=e.data.slice(0,12).map((function(t){return Object(b.jsx)(F,{type:e.type,albumObj:t},t.id)}))}return t}()})},ee=(c(66),function(e){var t=Object(a.useState)([]),c=Object(P.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(0),i=Object(P.a)(r,2),j=i[0],l=i[1];return Object(a.useEffect)((function(){!function(e,t,c){window.DZ.api("/chart/".concat(t,"/").concat(e,"s"),(function(e){c(e.data)}))}(e.type,j,s)}),[j,e.type]),Object(b.jsxs)("section",{className:"content-section",children:[Object(b.jsx)("h2",{className:"mt-4 mb-0",children:"Top ".concat(e.type,"s")}),Object(b.jsx)(q,{onGenreChange:function(e){return l(e)}}),Object(b.jsx)($,{type:e.type,data:n})]})}),te=c(86),ce=function(){return Object(b.jsxs)(te.a,{children:[Object(b.jsx)(ee,{type:"album"}),Object(b.jsx)(ee,{type:"track"}),Object(b.jsx)(ee,{type:"artist"})]})},ae=c(87),ne=c(41),se=(c(67),function(){var e=Object(a.useState)(""),t=Object(P.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),r=Object(P.a)(s,2),i=r[0],j=r[1];return Object(a.useEffect)((function(){if(c.length>2){var e=function(){var t=Object(V.a)(z.a.mark((function t(){var a,n;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://deezerdevs-deezer.p.rapidapi.com/search?q="+c,{method:"GET",headers:{"x-rapidapi-key":"7d208f71b8mshfd6cd40bfde572fp107ab9jsnfda73eb5809a","x-rapidapi-host":"deezerdevs-deezer.p.rapidapi.com"}});case 3:if(!(a=t.sent).ok){t.next=10;break}return t.next=7,a.json();case 7:n=t.sent,console.log(n),n.error?e():j(n.data);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();e()}}),[c]),Object(b.jsxs)(te.a,{className:"search-grid",children:[Object(b.jsx)("h2",{className:"text-white my-4",children:"Search"}),Object(b.jsx)(ae.a,{className:"mb-3 d-block",children:Object(b.jsx)(ne.a,{className:"mx-auto",placeholder:"Search...",value:c,onChange:function(e){return n(e.currentTarget.value)}})}),i.length>0&&Object(b.jsx)($,{data:i,type:"track"})]})}),re=(c(68),function(e){e.likes,e.currentSong,e.likeSong,e.dislikeSong;var t=e.tracks;return Object(b.jsxs)("section",{className:"tracklist-section",children:[Object(b.jsxs)(d.a,{className:"my-3 text-muted",children:[Object(b.jsx)(m.a,{className:"text-center",md:1,children:"#"}),Object(b.jsx)(m.a,{md:10,children:"TITLE"}),Object(b.jsx)(m.a,{className:"text-center",md:1,children:Object(b.jsx)("i",{className:"far fa-clock"})})]}),t.map((function(e,t){return Object(b.jsxs)(d.a,{className:"py-2 text-white",children:[Object(b.jsx)(m.a,{className:"text-center",md:1,children:Object(b.jsx)("p",{className:"mx-2 my-0 text-muted",children:t+1})}),Object(b.jsx)(m.a,{md:8,children:Object(b.jsx)("p",{className:"my-0",children:e.title})}),Object(b.jsx)(m.a,{md:1,children:Object(b.jsx)(B,{songId:e.id})}),Object(b.jsx)(m.a,{md:1,children:Object(b.jsx)(K,{songObj:e})}),Object(b.jsx)(m.a,{className:"text-center",md:1,children:Object(b.jsx)("p",{className:"my-0 text-muted",children:G(e.duration)})})]},e.id)}))]})}),ie=(c(69),function(e){var t=new URLSearchParams(e.location.search).get("id"),c=Object(a.useState)({}),n=Object(P.a)(c,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){!function(e,t){window.DZ.api("/album/".concat(e),(function(e){t(e)}))}(t,i)}),[]),Object.keys(s).length?Object(b.jsxs)(te.a,{fluid:!0,className:"album-details",children:[Object(b.jsxs)(d.a,{className:"hero-section p-4",children:[Object(b.jsx)("img",{src:s.cover_medium,height:"300px",className:"img-fluid mr-3",alt:""}),Object(b.jsxs)("div",{className:"d-flex flex-column mt-auto",children:[Object(b.jsx)("h1",{className:"mt-2 text-white",children:s.title}),Object(b.jsxs)("div",{className:"d-flex align-items-center",children:[Object(b.jsx)(r.b,{to:"/artist?id=".concat(s.artist.id),children:Object(b.jsx)("h5",{className:"m-0 text-white",children:s.artist.name})}),Object(b.jsxs)("div",{className:"text-muted d-flex align-items-center",children:[Object(b.jsx)("i",{className:"fas fa-circle mx-2"}),Object(b.jsx)("span",{children:s.release_date.slice(0,4)}),Object(b.jsx)("i",{className:"fas fa-circle mx-2"}),Object(b.jsxs)("span",{children:[s.nb_tracks," tracks"]})]})]})]})]}),Object(b.jsx)(re,{tracks:s.tracks.data})]}):null}),je=(c(70),function(e){var t=new URLSearchParams(e.location.search).get("id"),c=Object(a.useState)({}),n=Object(P.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)([]),j=Object(P.a)(i,2),l=j[0],o=j[1],u=Object(a.useState)([]),m=Object(P.a)(u,2),O=m[0],x=m[1];return Object(a.useEffect)((function(){!function(e,t){window.DZ.api("/artist/".concat(e),(function(e){t(e)}))}(t,r),function(e,t){window.DZ.api("/artist/".concat(e,"/top?limit=5"),(function(e){t(e.data)}))}(t,o),function(e,t){window.DZ.api("/artist/".concat(e,"/albums"),(function(e){t(e.data)}))}(t,x)}),[t]),Object.keys(s).length&&O.length?Object(b.jsxs)(te.a,{fluid:!0,className:"artist-details",children:[Object(b.jsxs)(d.a,{className:"hero-section p-4",children:[Object(b.jsx)("img",{src:s.picture_medium,height:"300px",className:"img-fluid mr-3",alt:""}),Object(b.jsxs)("div",{className:"d-flex flex-column mt-auto",children:[Object(b.jsx)("h1",{className:"mt-2 text-white",children:s.name}),Object(b.jsxs)("h4",{className:"text-white",children:[s.nb_fan.toLocaleString()," fans"]}),Object(b.jsxs)("span",{className:"text-muted",children:[s.nb_album," albums"]})]})]}),Object(b.jsx)("h3",{className:"text-white",children:"Top 5 Tracks"}),Object(b.jsx)(re,{tracks:l}),Object(b.jsx)("h3",{className:"text-white",children:"Albums"}),Object(b.jsx)($,{type:"album",data:O})]}):null});var le=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(u,{}),Object(b.jsx)(l.a,{exact:!0,path:"/",component:ce}),Object(b.jsx)(l.a,{path:"/search",component:se}),Object(b.jsx)(l.a,{path:"/album",component:ie}),Object(b.jsx)(l.a,{path:"/artist",component:je}),Object(b.jsx)(A,{})]})},oe=c(20),be=c(36),ue=c(42),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe.currentSong,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(X.a)(Object(X.a)({},e),{},{songObj:t.payload});case w:return Object(X.a)(Object(X.a)({},e),{},{playing:!0});case S:return Object(X.a)(Object(X.a)({},e),{},{playing:!1});case _:return Object(X.a)(Object(X.a)({},e),{},{duration:t.payload});case T:return Object(X.a)(Object(X.a)({},e),{},{currentTime:t.payload});case E:return Object(X.a)(Object(X.a)({},e),{},{volume:t.payload});default:return e}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe.likes,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:var c=e.songs[t.payload];return Object(X.a)(Object(X.a)({},e),{},{songs:Object(X.a)(Object(X.a)({},e.songs),{},Object(M.a)({},t.payload,!c))});default:return e}},Oe={likes:{songs:{},albums:{},artists:{}},currentSong:{songObj:{},playing:!1,duration:0,currentTime:0,volume:.5}},xe={key:"root",storage:c.n(ue).a},he=Object(oe.a)({likes:me,currentSong:de}),fe=Object(be.a)(xe,he),pe=Object(oe.b)(fe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),ge=Object(be.b)(pe);c(73);s.a.render(Object(b.jsx)(i.a,{store:pe,children:Object(b.jsx)(j.a,{persistor:ge,loading:null,children:Object(b.jsx)(r.a,{children:Object(b.jsx)(le,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.5c802fc0.chunk.js.map